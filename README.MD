# Реализация тестового задания
Текст задания:
>Текстовый файл описывает карту дорог. В каджой строке идут пара городов и расстояние между ними. Например,  
> Южный Шахты 100  
> Южный Залесск 120  
> Залесск Ельнино 250  
> Ключи Ельнино 71  
> Ключи Бухта 56  
> Бухта Нижнегорск 130  
> Нижнегорск Горный 48  
> Горный Алмазный 350  
> Алмазный Шахты 400  
> Алмазный Боровое 470  
> Шахты Приозерск 110  
> Приозерск Ельнино 80  
> Приозерск Бухта 210  
> Ключи Нижнегорск 340  
>
>При запуске сервису указываем файл с картой, в этот момент можно сделать какие-либо вычисления для эффективной работы.  
>Нужно реализовать HTTP-метод для поиска пути между двумя городами, переданными в запросе. 
>
>Пример запроса:
>
>/path?from=Шахты&to=Ключи
>
>Ответ:
>["Шахты", "Приозерск", "Ельнино", "Ключи"]

___
### Комментарии к реализации
Решение данной задачи сводится к нахождению кратчайшего расстояния между вершинами в графе, используя [алгоритм Джонсона](https://ru.wikipedia.org/wiki/%D0%90%D0%BB%D0%B3%D0%BE%D1%80%D0%B8%D1%82%D0%BC_%D0%94%D0%B6%D0%BE%D0%BD%D1%81%D0%BE%D0%BD%D0%B0). Данный алгоритм базируется на [алгоритме Дейкстры](https://ru.wikipedia.org/wiki/%D0%90%D0%BB%D0%B3%D0%BE%D1%80%D0%B8%D1%82%D0%BC_%D0%94%D0%B5%D0%B9%D0%BA%D1%81%D1%82%D1%80%D1%8B) и заключается в том, что для каждой из вершин графа (т.е. для каждого города из списка) предварительно находятся кратчайшие пути до каждой другой точки графа, и по запросу клиента предоставляется уже подготовленный результат. Данный метод производительнее, чем поиск кратчайшего пути по каждому запросу, однако, следует понимать, что при большом увеличении количества вершин и рёбер это может привести к повышенному расходу памяти, а так же увеличению времени предварительного нахождения всех кратчайших путей для каждой вершины.  

В данном решении используется упрощённый алгоритм Джонсона - без проверки на отрицательность веса рёбер, т.к. пути между городами не могут быть отрицательными. Алгоритм Дейкстры использует [очередь с приоритетом](https://ru.wikipedia.org/wiki/%D0%9E%D1%87%D0%B5%D1%80%D0%B5%D0%B4%D1%8C_%D1%81_%D0%BF%D1%80%D0%B8%D0%BE%D1%80%D0%B8%D1%82%D0%B5%D1%82%D0%BE%D0%BC_(%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5)) и в общем виде подходит для разреженных графов, поскольку [плотность графа](https://ru.wikipedia.org/wiki/%D0%9F%D0%BB%D0%BE%D1%82%D0%BD%D1%8B%D0%B9_%D0%B3%D1%80%D0%B0%D1%84) для исходного примера - невысокая (D=(2\*14)/(11\*(11-1))≈0,25. 

### Как пользоваться программой
Программа уже содержит файл с исходным набором городов и рассояний.

1. Склонировать на компьютер и собрать исполняемый файл:

```
git clone https://github.com/igor-pgmt/go-testcase-02.git
cd go-testcase-02
go build
```

2. Запустить программу:

```
./go-testcase-02
```

3. Открыть в браузере http://127.0.0.1:9090/

На данной странице показывается текущий загруженный файл.  
Присутствует возможность загрузить другой файл.  
![index](https://github.com/igor-pgmt/go-testcase-02/blob/master/screenshots/index.png)

4. Для получения результата, обратиться методом GET:   

http://127.0.0.1:9090/path?from=%D0%A8%D0%B0%D1%85%D1%82%D1%8B&to=%D0%9A%D0%BB%D1%8E%D1%87%D0%B8  
Ответ будет возвращён в формате JSON.

![index](https://github.com/igor-pgmt/go-testcase-02/blob/master/screenshots/result.png)